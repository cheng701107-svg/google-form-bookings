<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>選擇住宿房型</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body { font-family: sans-serif; padding: 20px; }
  .room-card {
    padding: 16px;
    margin-bottom: 12px;
    border-radius: 10px;
    background: #f2f6ff;
    cursor: pointer;
  }
  .title { font-size: 20px; font-weight: bold; }
  .subtitle { font-size: 14px; color: #666; }
</style>
</head>

<body>

<h2>選擇住宿房型</h2>
<div id="roomList">讀取中…</div>

<script>
const API = "https://script.google.com/macros/s/AKfycbx72JGTk3CuJe-z4AFdFm6N1OPJO0aIXq0fgjHY0DN1lCq7iHUtgEZu-YB7fiPP1t2J/exec";

async function loadRooms() {
  const res = await fetch(API + "?action=rooms");
  const json = await res.json();

  if (!json.success) {
    document.getElementById("roomList").innerHTML = "無法載入房型資料";
    return;
  }

  const list = document.getElementById("roomList");
  list.innerHTML = "";

  json.rooms.forEach(r => {
    const div = document.createElement("div");
    div.className = "room-card";
    div.onclick = () => {
      window.location.href = "select-date.html?roomId=" + r.id;
    };
    div.innerHTML = `
      <div class="title">${r.title}</div>
      <div class="subtitle">${r.subtitle}</div>
    `;
    list.appendChild(div);
  });
}

loadRooms();
</script>

</body>
</html>
